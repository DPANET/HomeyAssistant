"use strict";
exports.__esModule = true;
var createAdapter = function (scope) {
    if (scope.expect && scope.expect.extend) {
        return require('./jest').getJestAdapter(scope);
    }
    if (scope.jasmine && scope.jasmine.addMatchers) {
        return require('./jasmine-v2').getJasmineV2Adapter(scope);
    }
    if (scope.jasmine) {
        return require('./jasmine-v1').getJasmineV1Adapter(scope);
    }
    return null;
};
exports.createApi = function (scope) {
    var adapter = createAdapter(scope);
    var addMatchers = function (matchersByName) {
        for (var name_1 in matchersByName) {
            if (matchersByName.hasOwnProperty(name_1)) {
                adapter(name_1, matchersByName[name_1]);
            }
        }
    };
    var addAsymmetricMatcher = function (name, matcher) {
        scope.any[name] = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return ({
                asymmetricMatch: function (actual) {
                    return matcher.apply(this, args.concat([actual]));
                }
            });
        };
    };
    var addAsymmetricMatchers = function (matchersByName) {
        scope.any = {};
        for (var name_2 in matchersByName) {
            if (matchersByName.hasOwnProperty(name_2)) {
                addAsymmetricMatcher(name_2, matchersByName[name_2]);
            }
        }
    };
    addMatchers.asymmetric = addAsymmetricMatchers;
    return addMatchers;
};
